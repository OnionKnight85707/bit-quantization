package com.mzwise.starter;

import org.springframework.boot.ApplicationArguments;
import org.springframework.boot.ApplicationRunner;

public class UserDataStarter  implements ApplicationRunner {
    @Override
    public void run(ApplicationArguments args) throws Exception {
//        ExRequestOptions options = new ExRequestOptions();
//        ExRequestClient exRequestClient1 = ExRequestClient.create("oUYX9hEV6d8fenjalCdIDqBgylzuRjBp5qQ6Idm57zCaTkTf2gsSgBUf65nJnCG7", "aa",
//                options);
//
//        // Start user data stream
//        String listenKey = exRequestClient1.startUserDataStream();
//        System.out.println("客户 listenKey: " + listenKey);
//
//        /**
//         * 通用所有用户的客户端
//         */
//        SubscriptionClient client = SubscriptionClient.create();
//
//
//        client.subscribeUserDataEvent(listenKey, ((event) -> {
//            System.out.println("客户账号收到消息推送");
//            System.out.println(event);
//        }), null);

//        client.subscribeUserDataEvent(listenKey2, ((event) -> {
//            System.out.println("王明峰账号收到消息推送");
//            System.out.println(event);
//        }), null);
    }
}
